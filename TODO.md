TODO:
- object variables
- macros
- use AVAR when appropriate
- reduce total number of variables used, especially when there's a lot of explicit targ