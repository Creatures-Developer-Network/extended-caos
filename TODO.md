TODO:
- Macros as expressions (not just statements)
- Pass macros as command info to every parsing stage?
- short-circuit semantics on doifs/elifs when using explicit targ
- Better way to make sure macro variables don't override user variables
- reduce total number of variables used, especially when there's a lot of explicit targ
- "=" for assigning to variables
- support NAME variables in object variables